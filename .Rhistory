knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
# Specify the sheets and columns you want
sheets_to_extract <- c("Select Measure Data", "Additional Measure Data")
columns_to_extract <- c("FIPS", "State", "County", "% Fair or Poor Health", "Food Environment Index", "% Uninsured", "% Completed High School", "% Unemployed", "% Some College", "% Children in Poverty", "% Children in Single-Parent Households", "% Severe Housing Problems", "% Food Insecure", "% Limited Access to Healthy Foods", "% Uninsured Children", "% Uninsured Adults", "% Disconnected Youth", "% Enrolled in Free or Reduced Lunch", "% Households with Severe Cost Burden", "% Rural", "% Not Proficient in English")
# Check column names for each sheet
library(readxl)
sheet1 <- read_excel("C:\\Users\\jashb\\OneDrive\\Documents\\Masters Data Science\\Spring 2025\\DATA 698\\Masters Project\\DATA\\2024 County Health Rankings New York Data - v2.xlsx", sheet = "Select Measure Data")
sheet2 <- read_excel("C:\\Users\\jashb\\OneDrive\\Documents\\Masters Data Science\\Spring 2025\\DATA 698\\Masters Project\\DATA\\2024 County Health Rankings New York Data - v2.xlsx", sheet = "Additional Measure Data")
# View column names
print(colnames(sheet1))
print(colnames(sheet2))
library(tidyverse)
library(readxl)
# Specify the sheets and columns you want
sheets_to_extract <- c("Select Measure Data", "Additional Measure Data")
columns_to_extract <- c("FIPS", "State", "County", "% Fair or Poor Health", "Food Environment Index", "% Uninsured", "% Completed High School", "% Unemployed", "% Some College", "% Children in Poverty", "% Children in Single-Parent Households", "% Severe Housing Problems", "% Food Insecure", "% Limited Access to Healthy Foods", "% Uninsured Children", "% Uninsured Adults", "% Disconnected Youth", "% Enrolled in Free or Reduced Lunch", "% Households with Severe Cost Burden", "% Rural", "% Not Proficient in English")
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_main.csv")
supp2 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_supp.csv")
# View column names
print(colnames(main2024))
print(colnames(supp2))
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_main.csv")
supp2 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_supp.csv")
View(main2024)
# Specify the sheets and columns you want
sheets_to_extract <- c("Select Measure Data", "Additional Measure Data")
columns_to_extract <- c("FIPS", "State", "County", "%Fair.or.Poor.Health", "Food.Environment.Index", "%Uninsured", "%Completed.High.School", "%Unemployed", "%Some.College", "%Children.in.Poverty", "%Children.in.Single-Parent.Households", "%Severe.Housing.Problems", "%Food.Insecure", "%Limited.Access.to.Healthy.Foods", "%Uninsured.Children", "%Uninsured.Adults", "%Disconnected.Youth", "%Enrolled.in.Free.or.Reduced.Lunch", "%Households.with.Severe.Cost.Burden", "%Rural", "%Not.Proficient.in.English")
main_2024_selc <- main2024 %>%
select(all_of(intersect(names(main2024), columns_to_extract)))
View(main_2024_selc)
View(main2024)
print(columns(main2024))
column(main2024)
print(names(main2024))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
# Specify the sheets and columns you want
sheets_to_extract <- c("Select Measure Data", "Additional Measure Data")
columns_to_extract <- c("FIPS", "State", "County", "%Fair.or.Poor.Health", "Food.Environment.Index", "Uninsured.Percent", "Completed.High.School.Percent", "Unemployed.Percent", "Some.College.Percent", "Children.in.Poverty.Percent", "Children.in.Single-Parent.Households.Percent", "Severe.Housing.Problems.Percent", "%Food.Insecure", "%Limited.Access.to.Healthy.Foods", "%Uninsured.Children", "%Uninsured.Adults", "%Disconnected.Youth", "%Enrolled.in.Free.or.Reduced.Lunch", "%Households.with.Severe.Cost.Burden", "%Rural", "%Not.Proficient.in.English", "Teen.Birth.Rate")
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_main.csv")
supp2 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_supp.csv")
print(names(main2024))
main_2024_selc <- main2024 %>%
select(all_of(intersect(names(main2024), columns_to_extract)))
main_24_sub <- main2024 %>%
select(all_of(intersect(names(main2024), columns_to_extract)))
View(main_24_sub)
print(names(main2024))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
# Specify the sheets and columns you want
sheets_to_extract <- c("Select Measure Data", "Additional Measure Data")
columns_to_extract <- c("FIPS", "State", "County", "%Fair.or.Poor.Health", "Food.Environment.Index", "Uninsured.Percent", "Completed.High.School.Percent", "Unemployed.Percent", "Some.College.Percent", "Children.in.Poverty.Percent", "Children.in.Single-Parent.Households.Percent", "Severe.Housing.Problems.Percent", "%Food.Insecure", "%Limited.Access.to.Healthy.Foods", "%Uninsured.Children", "%Uninsured.Adults", "%Disconnected.Youth", "%Enrolled.in.Free.or.Reduced.Lunch", "%Households.with.Severe.Cost.Burden", "%Rural", "%Not.Proficient.in.English", "Teen.Birth.Rate")
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_main.csv")
supp2 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_supp.csv")
print(names(main2024))
main_24_sub <- main2024 %>%
select(all_of(intersect(names(main2024), columns_to_extract)))
main_2024_selc <- main2024 %>%
select(all_of(intersect(names(main2024), columns_to_extract)))
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_main.csv")
supp2 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/2024_supp.csv")
print(names(main2024))
print(names(main2024))
main_24_sub <- main2024 %>%
select(all_of(intersect(names(main2024), columns_to_extract)))
View(main_24_sub)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(janitor)
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/main_2024.csv", check.names = F)
supp2 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/supp_2024.csv", check.names = F)
View(main2024)
colnames(main2024)
# Check column names for each sheet
library(readxl)
main2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/main_2024.csv", check.names = F)
main2024 <- clean_names(main2024)
supp2024 <- read.csv("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/supp_2024.csv", check.names = F)
supp2024 <- clean_names(supp2024)
View(main2024)
colnames(main2024)
main_24_clean <- main2024 %>%
select(-contains("95_percent_ci_low"), -contains("95_percent_ci_high"))
View(main_24_clean)
main_24_clean <- main2024 %>%
select(-contains("95_percent_ci_low"), -contains("95_percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"))
View(main_24_clean)
main_24_clean <- main2024 %>%
select(-contains("95_percent_ci_low"), -contains("95_percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"))
main_24_clean <- main2024 %>%
select(-contains("95_percent_ci_low"), -contains("95_percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"))
supp_24_clean <- supp2024 %>%
select(-contains("95_percent_ci_low"), -contains("95_percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"))
colnames(supp2024)
main_24_clean <- main2024 %>%
select(-contains("percent_ci_low"), -contains("percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"))
supp_24_clean <- supp2024 %>%
select(-contains("percent_ci_low"), -contains("percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"))
View(supp_24_clean)
main_24_clean <- main2024 %>%
select(-contains("percent_ci_low"), -contains("percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"))
supp_24_clean <- supp2024 %>%
select(-contains("percent_ci_low"), -contains("percent_ci_high"), -contains("national_z_score"), -contains("injury_death_rate"), -contains("ypll_rate"), -contains("percent_lbw"), -contains("non_hispanic"))
colnames(supp_24_clean)
# Specify the sheets and columns you want
columns_to_extract <- c("year","fips", "state", "county", "percent_food_insecure","percent_frequent_mental_distress",
"percent_uninsured_children", "percent_disconnected_youth", "spending_per_pupil","school_funding_adequacy", "high_school_graduation_rate", "median_household_income", "gender_pay_gap", "percent_enrolled_in_free_or_reduced_lunch", "percent_household_income_required_for_child_care_expenses", "percent_households_with_severe_cost_burden", "percent_rural", "percent_65_and_over", "percent_black","percent_not_proficient_in_english", "segregation_index", "percent_disconnected_youth")
colnames(main_24_clean)
# Specify the sheets and columns you want
columns_to_extract <- c("year","fips", "state", "county", "percent_food_insecure","percent_frequent_mental_distress",
"percent_uninsured_children", "percent_disconnected_youth", "spending_per_pupil","school_funding_adequacy", "high_school_graduation_rate", "median_household_income", "gender_pay_gap", "percent_enrolled_in_free_or_reduced_lunch", "percent_household_income_required_for_child_care_expenses", "percent_households_with_severe_cost_burden", "percent_rural", "percent_65_and_over", "percent_black","percent_not_proficient_in_english", "segregation_index", "percent_disconnected_youth", "food_environment_index", "teen_birth_rate", "percent_fair_or_poor_health", "percent_unemployed", "percent_children_in_single_parent_households", "percent_children_in_poverty", "percent_severe_housing_problems", "percent_completed_high_school","percent_completed_high_school", "percent_low_birthweight")
clean_and_select <- function(file_path, columns_to_extract) {
data <- read.csv(file_path, check.names = FALSE) %>%
janitor::clean_names() %>% # Clean column names
select(any_of(columns_to_extract)) # Extract only the specified columns
return(data)
}
m_24 <- clean_and_select("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/main_2024.csv", columns_to_extract)
View(m_24)
# Specify the sheets and columns you want
columns_to_extract <- c("year","fips", "state", "county", "percent_food_insecure","percent_frequent_mental_distress",
"percent_uninsured_children", "percent_disconnected_youth", "spending_per_pupil","school_funding_adequacy", "high_school_graduation_rate", "median_household_income", "gender_pay_gap", "percent_enrolled_in_free_or_reduced_lunch", "percent_household_income_required_for_child_care_expenses", "percent_households_with_severe_cost_burden", "percent_rural", "percent_65_and_over", "percent_black","percent_not_proficient_in_english", "segregation_index", "percent_disconnected_youth", "food_environment_index", "teen_birth_rate", "percent_fair_or_poor_health", "percent_unemployed", "percent_children_in_single_parent_households", "percent_children_in_poverty", "percent_severe_housing_problems", "percent_completed_high_school","percent_completed_high_school", "percent_low_birthweight")
clean_and_select <- function(file_path, columns_to_extract) {
data <- read.csv(file_path, check.names = FALSE) %>%
janitor::clean_names() %>% # Clean column names
select(any_of(columns_to_extract)) # Extract only the specified columns
return(data)
}
m_24 <- clean_and_select("https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/main_2024.csv", columns_to_extract)
View(m_24)
main_24 <- "https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/main_2024.csv"
supp_24 <- "https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/supp_2024.csv"
clean_and_select <- function(file_path, columns_to_extract) {
data <- read.csv(file_path, check.names = FALSE) %>%
janitor::clean_names() %>% # Clean column names
select(any_of(columns_to_extract)) # Extract only the specified columns
return(data)
}
m_24 <- clean_and_select(main_24, columns_to_extract)
s_24 <- clean_names(supp_24, columns_to_extract)
View(m_24)
# Specify the sheets and columns you want
columns_to_extract <- c("year","fips", "state", "county", "percent_food_insecure","percent_frequent_mental_distress",
"percent_uninsured_children", "percent_disconnected_youth", "spending_per_pupil","school_funding_adequacy", "high_school_graduation_rate", "median_household_income", "gender_pay_gap", "percent_enrolled_in_free_or_reduced_lunch", "percent_household_income_required_for_child_care_expenses", "percent_households_with_severe_cost_burden", "percent_rural", "percent_65_and_over", "percent_black","percent_not_proficient_in_english", "segregation_index", "percent_disconnected_youth", "food_environment_index", "teen_birth_rate", "percent_fair_or_poor_health", "percent_unemployed", "percent_children_in_single_parent_households", "percent_children_in_poverty", "percent_severe_housing_problems", "percent_completed_high_school","percent_completed_high_school", "percent_low_birthweight")
main_24 <- "https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/main_2024.csv"
supp_24 <- "https://raw.githubusercontent.com/jonburns2454/DATA_698/refs/heads/main/DATA/supp_2024.csv"
clean_and_select <- function(file_path, columns_to_extract) {
data <- read.csv(file_path, check.names = FALSE) %>%
janitor::clean_names() %>%
select(any_of(columns_to_extract))
return(data)
}
m_24 <- clean_and_select(main_24, columns_to_extract)
s_24 <- clean_and_select(supp_24, columns_to_extract)
View(s_24)
View(m_24)
